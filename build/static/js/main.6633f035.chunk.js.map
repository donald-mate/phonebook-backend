{"version":3,"sources":["components/Add.js","components/Display.js","components/Notification.js","components/Search.js","services/persons.js","App.js","index.js"],"names":["Add","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Display","persons","newFilter","deleteEntry","filter","person","name","toLowerCase","includes","map","filteredPerson","number","onClick","id","Notification","message","className","Search","handleFilterChange","baseURL","axios","get","then","response","data","newObject","post","duplicate","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","e","target","display","console","log","preventDefault","personObject","find","undefined","window","confirm","updatedPerson","catch","error","setTimeout","returnedPerson","concat","updatedPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6633f035.chunk.js","sourcesContent":["import React from 'react'\n\nconst Add = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\treturn (\n    <div>\n\t\t  <form onSubmit={addPerson}>\n       \t<div>\n       \t\tname: <input value={newName} onChange={handleNameChange} />\n      \t</div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n\t)\n}\n\nexport default Add","import React from 'react'\n\nconst Display = ({persons, newFilter, deleteEntry}) => {\n\treturn (\n\t\t<div>\n\t\t\t<ul>\n\t\t\t{persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase())).map(filteredPerson => \n\t\t\t<li>{filteredPerson.name} {filteredPerson.number} <button onClick={() => deleteEntry(filteredPerson.id)}>delete</button></li> )}\n\t\t\t</ul>\n\t\t</div>\n\t)\n}\nexport default Display","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    } else if (message.includes(\"removed\")) {\n        return (\n            <div className=\"error\">\n              {message}\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"added\">\n              {message}\n            </div>\n        )\n    }\n  }\n\nexport default Notification","import React from 'react'\n\nconst Search = ({newFilter, handleFilterChange}) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter by name: <input value={newFilter} onChange={handleFilterChange} />\n\t\t</div>\n\t)\n}\n\nexport default Search","import axios from 'axios'\nconst baseURL = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseURL, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (duplicate, newObject) => {\n    const request = axios.put(`${baseURL}/${duplicate.id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, deletePerson}","import React, { useState, useEffect } from 'react'\nimport './index.css'\nimport Add from './components/Add'\nimport Display from './components/Display'\nimport Notification from './components/Notification'\nimport Search from './components/Search'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('');\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  }\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  }\n  \n  const handleFilterChange = (e) => {\n    setNewFilter(e.target.value);\n    const display = persons.filter(person => person.name.toLowerCase().includes (newFilter.toLowerCase()));\n    console.log(display);\n  }\n\n\n  const deleteEntry = id => {\n    personService\n      .deletePerson(id)\n      .then(\n        personService\n          .getAll()\n          .then(updatedPersons => {\n            setPersons(updatedPersons)\n        })\n      )\n  }\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    const duplicate = persons.find(person => person.name === personObject.name);\n    if (duplicate !== undefined) {\n      if (window.confirm(personObject.name + \" is already added to the phonebook, replace the old number with a new one?\")) {\n        personService\n          .update(duplicate, personObject)\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== duplicate.id ? person : updatedPerson))\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(error => {\n            setNotificationMessage(`Information of ${personObject.name} was already removed from the server`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 3000)\n            setPersons(persons.filter(person => person.id !== duplicate.id))\n          })\n        return;\n      } else {\n        return;\n      }\n    }\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('');\n        setNewNumber('');\n        setNotificationMessage(`${returnedPerson.name} was added`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 3000)\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Search newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>New Entry</h2>\n      <Notification message={notificationMessage} />\n      <Add addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} \n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Display persons={persons} newFilter={newFilter} deleteEntry={deleteEntry} />\n    </div>\n  )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}