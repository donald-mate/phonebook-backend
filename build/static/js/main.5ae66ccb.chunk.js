(this["webpackJsonpfsopen-two"]=this["webpackJsonpfsopen-two"]||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(14),i=t.n(a),o=t(3),u=(t(19),t(0)),s=function(e){var n=e.addPerson,t=e.newName,r=e.handleNameChange,c=e.newNumber,a=e.handleNumberChange;return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:t,onChange:r})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:c,onChange:a})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})})},d=function(e){var n=e.persons,t=e.newFilter,r=e.deleteEntry;return Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(u.jsxs)("li",{children:[e.name," ",e.number," ",Object(u.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]})}))})})},l=function(e){var n=e.message;return null===n?null:n.includes("removed")?Object(u.jsx)("div",{className:"error",children:n}):Object(u.jsx)("div",{className:"added",children:n})},j=function(e){var n=e.newFilter,t=e.handleFilterChange;return Object(u.jsxs)("div",{children:["filter by name: ",Object(u.jsx)("input",{value:n,onChange:t})]})},b=t(4),h=t.n(b),f="/api/persons",m=function(){return h.a.get(f).then((function(e){return e.data}))},O=function(e){return h.a.post(f,e).then((function(e){return e.data}))},v=function(e,n){return h.a.put("".concat(f,"/").concat(e.id),n).then((function(e){return e.data}))},x=function(e){return h.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},w=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),i=Object(o.a)(a,2),b=i[0],h=i[1],f=Object(r.useState)(""),w=Object(o.a)(f,2),p=w[0],g=w[1],C=Object(r.useState)(""),N=Object(o.a)(C,2),y=N[0],S=N[1],F=Object(r.useState)(null),k=Object(o.a)(F,2),E=k[0],L=k[1];Object(r.useEffect)((function(){m().then((function(e){c(e)}))}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(j,{newFilter:y,handleFilterChange:function(e){S(e.target.value);var n=t.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));console.log(n)}}),Object(u.jsx)("h2",{children:"New Entry"}),Object(u.jsx)(l,{message:E}),Object(u.jsx)(s,{addPerson:function(e){e.preventDefault();var n={name:b,number:p},r=t.find((function(e){return e.name===n.name}));if(void 0!==r)return window.confirm(n.name+" is already added to the phonebook, replace the old number with a new one?")?void v(r,n).then((function(e){c(t.map((function(n){return n.id!==r.id?n:e}))),h(""),g("")})).catch((function(e){L("Information of ".concat(n.name," was already removed from the server")),setTimeout((function(){L(null)}),3e3),c(t.filter((function(e){return e.id!==r.id})))})):void 0;O(n).then((function(e){c(t.concat(e)),h(""),g(""),L("".concat(e.name," was added")),setTimeout((function(){L(null)}),3e3)}))},newName:b,handleNameChange:function(e){h(e.target.value)},newNumber:p,handleNumberChange:function(e){g(e.target.value)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(d,{persons:t,newFilter:y,deleteEntry:function(e){x(e).then(m().then((function(e){c(e)})))}})]})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.5ae66ccb.chunk.js.map